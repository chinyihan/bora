<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>{{ data['title'] }} Status display</title>
  <meta name="description" 
          content="Status display generated by BORA.">
  <link rel="stylesheet" href="{{ static_url("style.css") }}">
  <link rel="stylesheet" href="{{ static_url("jquery-ui.min.css") }}">
  <!--[if IE]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>

<body>


<div id="page_info">
    <button id="btn_page1" style="display:inline;">Main</button>
    <button id="btn_page2" style="display:none;">Notebook</button>
    <button id="btn_page3" style="display:none;">Config</button>

    [VER {{ data['version'] }}] {{ data['title'] }} data monitoring. Last refreshed</div>
<div id="page_title_cache" style="display:none;">{{ data['title'] }}</div>
<div id="page_version_cache" style="display:none;">{{ data['version'] }}</div>


<div id="page1">
    <div id="horizontal" class="horizontal" style="display: none;"></div>
    <div id="vertical" class="vertical" style="display:none;"></div>

{% if data['style'] %}
{% for key in data['style'] %}

<!-- BORA START -->


<!-- BORA END -->



{% if data['style'][key]['type'] == "calc" %}
<div style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{
    data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px;
    height:{{ data['style'][key]['height'] }}px;
    
{% if "background_color" in data['style'][key] %}     
  background-color:{{ data['style'][key]['background_color'] }}'
{% else%}
{% end %}
{% if "condition" in data['style'][key] %}
 data-cond="{{ data['style'][key]['condition'] }}"
{% else%}position
{% end%}
{% if "formula" in data['style'][key] %}
 data-formula="{{ data['style'][key]['formula'] }}"
{% else %}
{% end %}
{% if "lesser" in data['style'][key] %}
 data-lesser="{{ data['style'][key]['lesser'] }}"
{% else %}
{% end %}
{% if "larger" in data['style'][key] %}
 data-larger="{{ data['style'][key]['larger'] }}"
{% else %}
{% end %}
{% if "decimal" in data['style'][key] %}
 data-decimal="{{ data['style'][key]['decimal'] }}"
{% else %}
{% end %}
data-type="{{ data['style'][key]['type'] }}" class='databox' id="{{ key }}">
<p><span style="color: #000; font-size: {{ data['style'][key]['header']['size'] }}px; font-weight: {{ data['style'][key]['header']['weight'] }};" class="title">{{ data['style'][key]['header']['title'] }} </span><span style="color: #000; font-size: {{ data['style'][key]['unit']['size'] }}px; font-weight: {{ data['style'][key]['unit']['weight'] }};" class="varval"> --- </span><span class='unit_title' style="color: #000; font-size: {{ data['style'][key]['unit']['size'] }}px; font-weight: {{ data['style'][key]['unit']['weight'] }};" > {{ data['style'][key]['unit']['title'] }}</span></p>
</div>
{% else %}
{% end %}
    
{% if data['style'][key]['type'] == "data" %}
{% if "ref" in data['style'][key] %}
<div tooltip="{{ data['style'][key]['ref'] }}" 
{% else %}
<div tooltip="{{ key }}" 
{% end %}
class="databox" style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px; height:{{ data['style'][key]['height'] }}px; 

{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
{% end%}

{% if "condition" in data['style'][key] %}
data-cond="{{ data['style'][key]['condition'] }}"
{% else%}
{% end%}
{% if "formula" in data['style'][key] %}
data-formula="{{ data['style'][key]['formula'] }}"
{% else %}
{% end %}
{% if "lesser" in data['style'][key] %}
data-lesser="{{ data['style'][key]['lesser'] }}"
{% else %}
{% end %}
{% if "larger" in data['style'][key] %}
data-larger="{{ data['style'][key]['larger'] }}"
{% else %}
{% end %}
{% if "decimal" in data['style'][key] %}
data-decimal="{{ data['style'][key]['decimal'] }}"
{% else %}
{% end %}
{% if "exponential" in data['style'][key] %}
data-exponential="{{ data['style'][key]['exponential'] }}"
{% else %}
{% end %}
{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}
{% if "linkhtml" in data['style'][key] %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
{% if data['style'][key]['ref'] in data['adei'] %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% else %}
{% end %}
{% else %}
{% end %}

data-adei="{{ data['server'] }}"

{% if data['style'][key]['ref'] in data['adei'] %}
data-query="{{ data['adei'][data['style'][key]['ref']] }}"
{% else %}
{% end %}

{% if "ref" in data['style'][key] %}
data-type="{{ data['style'][key]['type'] }}" id="{{ key }}">
<p><span style="color: #000; font-size: {{ data['style'][key]['header']['size'] }}px; font-weight: {{ data['style'][key]['header']['weight'] }};" class="title">{{ data['style'][key]['header']['title'] }} </span><span style="color: #000; font-size: {{ data['style'][key]['unit']['size'] }}px; font-weight: {{ data['style'][key]['unit']['weight'] }};" class="varval"> --- </span><span class='unit_title' style="color: #000; font-size: {{ data['style'][key]['unit']['size'] }}px; font-weight: {{ data['style'][key]['unit']['weight'] }};"> {{ data['style'][key]['unit']['title'] }}</span>
{% if "trend" in data['style'][key] %}
{% if data['style'][key]['trend'] == 'true' %}
</p>
{% else %}
{% end %}
{% else %}
{% end %}
</div>
{% else %}
data-type="{{ data['style'][key]['type'] }}" id="{{ key }}">
<p><span style="color: #000; font-size: {{ data['style'][key]['header']['size'] }}px; font-weight: {{ data['style'][key]['header']['weight'] }};" class="title">{{ data['style'][key]['header']['title'] }} </span><span style="color: #000; font-size: {{ data['style'][key]['unit']['size'] }}px; font-weight: {{ data['style'][key]['unit']['weight'] }};" class="varval"> --- </span><span class='unit_title' style="color: #000; font-size: {{ data['style'][key]['unit']['size'] }}px; font-weight: {{ data['style'][key]['unit']['weight'] }};"> {{ data['style'][key]['unit']['title'] }}</span>
{% if "trend" in data['style'][key] %}
{% if data['style'][key]['trend'] == 'true' %}
</p>
{% else %}
{% end %}
{% else %}
{% end %}
</div>
{% end %}

{% else %}
{% end %}

{% if data['style'][key]['type'] == "icon" %}
{% if data['style'][key]['icon'] == "valve" %}
{% if "ref" in data['style'][key] %}
<div tooltip="{{ data['style'][key]['ref'] }}"
{% else %}
<div tooltip="{{ key }}"
{% end %}
style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px; height:{{ data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
{% end%}
{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% if "ref" in data['style'][key] %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if "trend" in data['style'][key] %}
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
{% else %}
{% end %}

<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("valve_inactive.png") }}'></img>
</div>
</div>
{% else %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("valve_inactive.png") }}'></img>
</div>
</div>
{% end %}

{% else %}
{% end %}

{% if data['style'][key]['icon'] == "commbit" %}
{% if "ref" in data['style'][key] %}
<div tooltip="{{ data['style'][key]['ref'] }}"
{% else %}
<div tooltip="{{ key }}"
{% end %}
style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px; height:{{ data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
{% end%}
{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% if "ref" in data['style'][key] %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("commbit_inactive.svg") }}'></img>
</div>
</div>
{% else %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("commbit_inactive.svg") }}'></img>
</div>
</div>
{% end %}

{% else %}
{% end %}

{% if data['style'][key]['icon'] == "alarm" %}
{% if "ref" in data['style'][key] %}
<div tooltip="{{ data['style'][key]['ref'] }}"
{% else %}
<div tooltip="{{ key }}"
{% end %}
style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px; height:{{ data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
{% end%}
{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% if "ref" in data['style'][key] %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("alarm_inactive.svg") }}'></img>
</div>
</div>
{% else %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("alarm_inactive.svg") }}'></img>
</div>
</div>
{% end %}

{% else %}
{% end %}

{% if data['style'][key]['icon'] == "TMP" %}
{% if "ref" in data['style'][key] %}
<div tooltip="{{ data['style'][key]['ref'] }}"
{% else %}
<div tooltip="{{ key }}"
{% end %}
style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px; height:{{ data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
{% end%}
{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% if "ref" in data['style'][key] %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("TMP_inactive.svg") }}'></img>
</div>
</div>
{% else %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("TMP_inactive.svg") }}'></img>
</div>
</div>
{% end %}

{% else %}
{% end %}

{% if data['style'][key]['icon'] == "relay" %}
{% if "ref" in data['style'][key] %}
<div tooltip="{{ data['style'][key]['ref'] }}"
{% else %}
<div tooltip="{{ key }}"
{% end %}
style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px; height:{{ data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
{% end%}
{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% if "ref" in data['style'][key] %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("relay_inactive.svg") }}'></img>
</div>
</div>
{% else %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("relay_inactive.svg") }}'></img>
</div>
</div>
{% end %}

{% else %}
{% end %}

{% if data['style'][key]['icon'] == "switch" %}
{% if "ref" in data['style'][key] %}
<div tooltip="{{ data['style'][key]['ref'] }}"
{% else %}
<div tooltip="{{ key }}"
{% end %}
style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px; height:{{ data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
{% end%}
{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% if "ref" in data['style'][key] %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("switch_inactive.svg") }}'></img>
</div>
</div>
{% else %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("switch_inactive.svg") }}'></img>
</div>
</div>
{% end %}

{% else %}
{% end %}

{% if data['style'][key]['icon'] == "bottle" %}
{% if "ref" in data['style'][key] %}
<div tooltip="{{ data['style'][key]['ref'] }}"
{% else %}
<div tooltip="{{ key }}"
{% end %}
style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px; height:{{ data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
{% end%}
{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% if "ref" in data['style'][key] %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("bottle_inactive.svg") }}'></img>
</div>
</div>
{% else %}
data-type="{{ data['style'][key]['type'] }}" data-icon="{{ data['style'][key]['icon'] }}" data-off="{{ data['style'][key]['off'] }}" data-offexpression="{{ data['style'][key]['off_condition'] }}" data-on="{{ data['style'][key]['on'] }}" data-onexpression="{{ data['style'][key]['on_condition'] }}" class='databox' id="{{ key }}">
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
<div class="icon">
<img width="{{ data['style'][key]['width'] }}px" height="{{ data['style'][key]['height'] }}px" style='transform: {{ data['style'][key]['rotate'] }}' src='{{ static_url("bottle_inactive.svg") }}'></img>
</div>
</div>
{% end %}

{% else %}
{% end %}
{% else %}
{% end %}

{% if data['style'][key]['type'] == "integer-to-string" %}
<div tooltip="{{ key }}" style='position: absolute; top: {{
    data['style'][key]['top'] }}; left:{{ data['style'][key]['left'] }};
    width:{{ data['style'][key]['width'] }}px; height:{{
    data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
background-color:{{ data['style'][key]['background_color'] }};'
{% else%}
'
{% end%}

{% if "cond" in data['style'][key] %}
data-cond="{{ data['style'][key]['cond'] }}"
{% else %}
{% end %}

{% if "trend" in data['style'][key] %}
data-trend="{{ data['style'][key]['trend'] }}"
{% else %}
{% end %}

data-adei="{{ data['server'] }}"
{% if data['style'][key]['ref'] in data['adei'] %}
data-query="{{ data['adei'][data['style'][key]['ref']] }}"
{% else %}
{% end %}

{% if "linkhtml" in data['style'][key] %}
{% if data['style'][key]['linkhtml'] == 'true' %}
{% if "server" in data %}
onclick="window.open( '{{ data["server"] }}#module=graph&{{ data['adei'][data['style'][key]['ref']] }}&experiment=-&window=86400&module=graph&virtual=srctree&srctree=&infomod=legend', '_blank');"
{% else %}
{% end %}
{% else %}
{% end %}
{% else %}
{% end %}
 data-dict="{{ data['style'][key]['dict'] }}" data-type="{{ data['style'][key]['type'] }}" class='databox' id="{{ key }}">
<p><span style="color: #000; font-size: {{ data['style'][key]['header']['size'] }}px; font-weight: {{ data['style'][key]['header']['weight'] }};" class="title">{{ data['style'][key]['header']['title'] }} </span><br /><span style="color: #000; font-size: {{ data['style'][key]['unit']['size'] }}px; font-weight: {{ data['style'][key]['unit']['weight'] }};" class="varval">--- </span>
{% if "trend" in data['style'][key] %}
{% if data['style'][key]['trend'] == 'true' %}
{% else %}
{% end %}
{% else %}
{% end %}
</p>
</div>
{% else %}
{% end %}

{% if data['style'][key]['type'] == "header" %}
<div style='position: absolute; top: {{ data['style'][key]['top'] }}; left:{{
    data['style'][key]['left'] }}; width:{{ data['style'][key]['width'] }}px;
    height:{{ data['style'][key]['height'] }}px;
{% if "background_color" in data['style'][key] %}
  background-color:{{ data['style'][key]['background_color'] }};'
{% else %}
{% end %}
{% if "titlelink" in data['style'][key] %}
 onclick="window.open( '{{ data['style'][key]['titlelink'] }}' );" 
{% else %}
{% end %}
data-type="{{
    data['style'][key]['type'] }}" class='databox' id="{{ key }}">
<p><span style="color: #000; font-size: {{ data['style'][key]['header']['size'] }}px; font-weight: {{ data['style'][key]['header']['weight'] }};" class="title">{{ data['style'][key]['header']['title'] }} </span></p>
</div>
{% else %}
{% end %}


{% end %}
{% else %}
{% end %}

<img src="{{ static_url( 'background.png' ) }}"></img>

</div>

<div id="page2" style="display:none;">
Page 2
</div>

<div id="page3" style="display:none;">
<textarea id="config_input" rows="40" cols="100" style="margin-top: 40px;">
</textarea>
<button id="config_save">Save</button>
</div>

<!-- java script -->
<script src="{{ static_url("jquery-1.12.3.min.js") }}"></script>
<script src="{{ static_url("jquery-ui.min.js") }}"></script>
<script src="{{ static_url("math.min.js") }}"></script>
<script src="{{ static_url("dat.gui.js") }}"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/rtsp-relay@1.7.0/browser/index.js"></script>-->
<!-- BORA-JS -->


<!-- BORA-JS -->
<script>
/*
jQuery(window).load(function () {

var win_width = $(document).width();
var win_height = $(document).height();
*/
/*
loadPlayer({
    url: 'ws://localhost:2000/websocket-streaming/camera01',
    canvas: document.getElementById('camera01')
});
*/

    
/*    
$(".databox").hover(function(){
    var trend_time_end = Math.floor(Date.now() / 1000);
    var trend_time_start = trend_time_end - 3600;
    var key = $(this).attr('id');
    var data_adei = $("#" + key).attr('data-adei');
    var data_query = $("#" + key).attr('data-query');
    if ($("#" + key).attr('data-trend') == "true") {
        $('#'+ key).append('<span class="popup" style="top:0; left:250px;"><img src="' + data_adei + '/services/getimage.php?' + data_query + '&window='+ trend_time_start.toString() +'-'+ trend_time_end.toString() + '&frame_width=600&frame_height=400" width="600px" height="400px"/></span>');
        var key_left = parseInt($("#" + key).css("left"));
        var pos_left = key_left + 850;
        var key_top = parseInt($("#" + key).css("top"));
        var pos_top = key_top + 400;
        if(pos_left > win_width) {
            $("#" + key + " .popup").css({
                'right':'250px',
                'left': ''
            });
        }
        if(pos_top > win_height) {
            $("#" + key + " .popup").css({
                'bottom':'0px',
                'top': ''
            });
        }
    }
});
*/


// Function to be executed on button click
function handleClickPage1() {
    $("#page1").show();
    $("#page2").hide();
    $("#page3").hide();
    $("#btn_page1").css("color", "black");
    $("#btn_page2").css("color", "#e0e0e0");
    $("#btn_page3").css("color", "#e0e0e0");
}
function handleClickPage2() {
    $("#page2").show();
    $("#page1").hide();
    $("#page3").hide();
    $("#btn_page2").css("color", "black");
    $("#btn_page1").css("color", "#e0e0e0");
    $("#btn_page3").css("color", "#e0e0e0");
}
function handleClickPage3() {
    $("#page3").show();
    $("#page2").hide();
    $("#page1").hide();
    $("#btn_page3").css("color", "black");
    $("#btn_page2").css("color", "#e0e0e0");
    $("#btn_page1").css("color", "#e0e0e0");
}

// Get the button element by its ID
const button1 = document.getElementById("btn_page1");
const button2 = document.getElementById("btn_page2");
const button3 = document.getElementById("btn_page3");
const button_config = document.getElementById("config_save");

// Add a click event listener to the button
button1.addEventListener("click", handleClickPage1);
button2.addEventListener("click", handleClickPage2);
button3.addEventListener("click", handleClickPage3);
button_config.addEventListener("click", handleClickConfig);

$("#btn_page1").css("color", "black");
$("#btn_page2").css("color", "#e0e0e0");
$("#btn_page3").css("color", "#e0e0e0");

var gui = new dat.GUI();
var obj = {
    notebook: function(){ $("#btn_page2").toggle() },
    settings: function(){ $("#btn_page3").toggle() }
};
gui.add(obj, 'notebook');
gui.add(obj, 'settings');
gui.hide();

// function to handle success
function config_success() {
    var data = JSON.parse(this.responseText); //parse the string to JSON
    console.log(data);
}

function config_error(err) {
    console.log('Request Failed', err); //error details will be in the "err" object
}

function handleClickConfig() {
    var url = "http://localhost:5617/config";

    //var data = {};
    //data.value = value;
    //var json = JSON.stringify(data);

    var data = document.getElementById('config_input').value;
    var json = JSON.stringify(data);
    //var json = JSON.parse(input);

    var xhr = new XMLHttpRequest();
    xhr.onload = config_success;
    xhr.onerror = config_error;
    xhr.open('PUT', url);
    xhr.send(json);
}

</script>
</body>
</html>
